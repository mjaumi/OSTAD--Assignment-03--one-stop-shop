{% extends 'base.html' %}

{% block title %}
Update Dashboard
{% endblock %}

{% block content %}
<section class="min-h-[80vh] flex justify-center items-center py-10">
    <div class="w-2/5 mx-auto shawdow p-5 rounded-2xl border text-gray-900 space-y-5">
        <h2 class="text-3xl text-center font-light">Update <span class="font-bold text-emerald-500">
                Dashboard
            </span> </h2>

        <form action="" method="POST" enctype="multipart/form-data" class="text-gray-900 space-y-3">
            {% csrf_token %}
            <div>
                <label for="first_name">First Name</label>
                <input type="text" name="first_name" id="first_name" placeholder="Enter your first name"
                    class="w-full border border-gray-300 rounded-md p-2"
                    value="{{ user.first_name|default_if_none:'' }}">

                {% if form.first_name.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.first_name.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="last_name">Last Name</label>
                <input type="text" name="last_name" id="last_name" placeholder="Enter your last name"
                    class="w-full border border-gray-300 rounded-md p-2"
                    value="{{ user.last_name|default_if_none:'' }}">

                {% if form.last_name.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.last_name.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="phone_number">Phone Number</label>
                <input type="text" name="phone_number" id="phone_number" placeholder="Enter your phone number"
                    class="w-full border border-gray-300 rounded-md p-2"
                    value="{{ user.phone_number|default_if_none:'' }}">

                {% if form.phone_number.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.phone_number.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="country">Country</label>
                <input type="text" name="country" id="country" placeholder="Enter your country"
                    class="w-full border border-gray-300 rounded-md p-2" value="{{ user.country|default_if_none:'' }}">

                {% if form.country.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.country.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="city">City</label>
                <input type="text" name="city" id="city" placeholder="Enter your city"
                    class="w-full border border-gray-300 rounded-md p-2" value="{{ user.city|default_if_none:'' }}">

                {% if form.city.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.city.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="postal_code">Postal Code</label>
                <input type="text" name="postal_code" id="postal_code" placeholder="Enter your postal code"
                    class="w-full border border-gray-300 rounded-md p-2"
                    value="{{ user.postal_code|default_if_none:'' }}">

                {% if form.postal_code.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.postal_code.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="address">Address</label>
                <textarea name="address" id="address" rows="5" placeholder="Enter your address"
                    class="w-full border border-gray-300 rounded-md p-2">{{ user.address|default_if_none:'' }}
                </textarea>

                {% if form.address.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.address.errors.0 }}
                </p>
                {% endif %}
            </div>

            <div>
                <label for="profile_picture">Profile Picture</label>
                <input type="file" accept=".jpg, .png" name="profile_picture" id="profile_picture"
                    placeholder="Enter your profile picture" class="w-full border border-gray-300 rounded-md p-2"
                    value="{{ user.profile_picture|default_if_none:'' }}">

                {% if form.profile_picture.errors %}
                <p class="text-red-500 text-sm mt-1">
                    {{ form.profile_picture.errors.0 }}
                </p>
                {% endif %}
            </div>

            <button type="submit"
                class="w-full bg-emerald-500 text-white py-2 rounded-md hover:opacity-70 duration-300">
                <i class="fa-solid fa-file-pen"></i>
                Update
            </button>

            {% if form.non_field_errors %}
            <ul class="text-red-500 text-sm list-disc pl-5">
                {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}
        </form>
    </div>
</section>
{% endblock %}